let carrito=[];const productos=[{id:1,nombre:"Producto 1",precio:10},{id:2,nombre:"Producto 2",precio:20}];const carritoContenido=document.getElementById("carrito-contenido");const botonesAgregar=document.querySelectorAll("button[data-id]");const botonVaciar=document.getElementById("vaciar-carrito");document.addEventListener('DOMContentLoaded',()=>{if(localStorage.getItem('carrito')){carrito=JSON.parse(localStorage.getItem('carrito'));actualizarCarrito()}});botonesAgregar.forEach(boton=>{boton.addEventListener("click",()=>{const idProducto=parseInt(boton.getAttribute("data-id"));const producto=productos.find(prod=>prod.id===idProducto);const productoEnCarrito=carrito.find(prod=>prod.id===producto.id);if(productoEnCarrito){productoEnCarrito.cantidad++}else{carrito.push({...producto,cantidad:1})}
localStorage.setItem('carrito',JSON.stringify(carrito));actualizarCarrito()})});function eliminarDelCarrito(id){carrito=carrito.filter(producto=>producto.id!==id);localStorage.setItem('carrito',JSON.stringify(carrito));actualizarCarrito()}
function actualizarCarrito(){carritoContenido.innerHTML='';if(carrito.length===0){carritoContenido.innerHTML='<p>El carrito está vacío</p>';return}
carrito.forEach(producto=>{const div=document.createElement('div');div.classList.add('producto-carrito');div.innerHTML=`
            <h3>${producto.nombre}</h3>
            <p>Precio: $${producto.precio}</p>
            <p>Cantidad: ${producto.cantidad}</p>
            <button class="eliminar" data-id="${producto.id}">Eliminar</button>
        `;carritoContenido.appendChild(div)});const botonesEliminar=document.querySelectorAll(".eliminar");botonesEliminar.forEach(boton=>{boton.addEventListener("click",()=>{const idProducto=parseInt(boton.getAttribute("data-id"));eliminarDelCarrito(idProducto)})})}
botonVaciar.addEventListener('click',()=>{carrito=[];localStorage.setItem('carrito',JSON.stringify(carrito));actualizarCarrito()})